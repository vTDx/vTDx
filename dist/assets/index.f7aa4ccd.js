var x=Object.defineProperty;var S=(s,e,t)=>e in s?x(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var I=(s,e,t)=>(S(s,typeof e!="symbol"?e+"":e,t),t);const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};T();class L{newError(e){const t=e.id,a=e.message;let n=document.getElementById(t);n||(n=document.getElementById("page-allnotes")),n.innerHTML="";const o=document.createElement("div"),c=document.createElement("span"),d=document.createElement("h3"),m=document.createTextNode(a),r=document.createElement("button");r.innerText=e.buttonCaption,r.addEventListener("click",e.buttonAction),c.className="material-icons big-x2",c.innerText=e.materialIcon,o.className="centered-absolute",d.append(m),o.append(c,d,r),n.append(o)}}const v=new L;class B{addColorClasses(){for(let e in l){const t=l[e],a=`.${t} { color: var(--${t}); }`;document.styleSheets[0].insertRule(a,0),console.log(a)}}}var l;(function(s){s[s.red=0]="red",s[s.green=1]="green",s[s.yellow=2]="yellow",s[s.blue=3]="blue",s[s.purple=4]="purple",s[s.aqua=5]="aqua",s[s.gray=6]="gray",s[s.orange=7]="orange"})(l||(l={}));const A=new B,g=new Map([["home",{dispName:"Home",materialIcon:"home",onSidebar:!0,color:l.blue,default:!0}],["allnotes",{dispName:"All Notes",materialIcon:"apps",onSidebar:!0,color:l.purple}],["pinned",{dispName:"Pinned Notes",materialIcon:"bookmark",onSidebar:!0,color:l.green}],["todo",{dispName:"ToDo",materialIcon:"task",onSidebar:!0,color:l.orange}],["settings",{dispName:"Settings",materialIcon:"settings",onSidebar:!1,color:l.gray}],["error",{dispName:"Error",materialIcon:"error",onSidebar:!1,color:l.red}]]);class P{switch(e,t){var d,m,r,u,p;const a=document.getElementById(`page-${e}`),n=document.querySelectorAll("div.sidebar>#pages>button");for(let i=0;i<n.length;i++)if(n[i].className="option page",n[i].classList.add(n[i]==t?"selected":"unselected"),n[i]==t)n[i].children[0].classList.add(l[(d=g.get(e))==null?void 0:d.color]);else for(const h in l)n[i].children[0].classList.remove(l[h]);let o=`Page Not Found: ${((m=g.get(e))==null?void 0:m.dispName)||"Unknown Page"}`,c="var(--red)";if(a&&g.has(e)){const i=document.querySelectorAll("div.page");for(let h=0;h<i.length;h++){if(i[h]!=a){i[h].classList.add("hidden");continue}i[h].classList.remove("hidden")}c=`var(--${l[(r=g.get(e))==null?void 0:r.color]})`,o=(u=g.get(e))==null?void 0:u.dispName,document.title=`vTDx - ${(p=g.get(e))==null?void 0:p.dispName}`}else{this.switch("error");const i={message:"The requested page does not have a HTML Node.",materialIcon:"web_asset_off",buttonCaption:"Go Home",buttonAction:()=>{this.switch("home",document.getElementById("button-page-home"))},id:"page-error"};v.newError(i),document.getElementById("page-dot").style.color=c,document.getElementById("page-disp").innerText=o,document.title="vTDx - Page Not Found"}document.getElementById("page-dot").style.color=c,document.getElementById("page-disp").innerText=o}}const f=new P;class ${populateAllNotes(e,t){t||(t=document.getElementById("page-allnotes")),e&&(t.innerHTML="");const a=this.getNotes();for(let n=0;n<a.length;n++)this.displayNote(n,t);if(!a.length){const n={materialIcon:"description",message:"You have no notes.",id:"page-allnotes",buttonCaption:"Create a note",buttonAction:()=>{E.show(N.note,!0)}};v.newError(n)}}populatePinnedNotes(e,t){t||(t=document.getElementById("page-pinned")),e&&(t.innerHTML="");const a=this.getNotes();let n=0;for(let o=0;o<a.length;o++)console.log(a[o].pinned),a[o].pinned&&(this.displayNote(o,t),n++);if(!n){const o={materialIcon:"bookmark",message:"You have no pinned notes.",id:"page-pinned",buttonCaption:"Goto your notes",buttonAction:()=>{f.switch("allnotes",document.getElementById("button-page-allnotes"))}};v.newError(o)}}refreshAll(){this.populateAllNotes(!0),this.populatePinnedNotes(!0)}createNote(e,t){let a=this.getNotes();const n={title:e,content:t,pinned:!1};a.push(n),localStorage.setItem("notestore",JSON.stringify(a))}deleteNote(e){let t=this.getNotes();e<=t.length&&t.splice(e,1),localStorage.setItem("notestore",JSON.stringify(t))}pinNote(e){let t=this.getNotes();e<=t.length&&(t[e].pinned=!0),localStorage.setItem("notestore",JSON.stringify(t))}unPinNote(e){let t=this.getNotes();e<=t.length&&(t[e].pinned=!1),localStorage.setItem("notestore",JSON.stringify(t))}togglePinnedNote(e){let t=this.getNotes();e<=t.length&&(t[e].pinned?this.unPinNote(e):this.pinNote(e),this.refreshAll())}getNotes(){return JSON.parse(localStorage.getItem("notestore"))||[]}displayNote(e,t){t||(t=document.getElementById("page-allnotes"));const a=this.getNotes(),n=document.createElement("div"),o=document.createElement("h3"),c=document.createTextNode(a[e].title),d=document.createElement("p"),m=document.createTextNode(a[e].content),r=document.createElement("button"),u=document.createElement("span"),p=document.createElement("button"),i=document.createElement("span");o.className="header",d.className="content",r.className="delete",r.title="Delete Note",r.addEventListener("click",()=>{this.deleteNote(e),this.refreshAll()}),p.className=`pin${a[e].pinned?" unpin":""}`,p.title=`${a[e].pinned?"Unpin":"Pin"} this Note`,p.addEventListener("click",()=>{this.togglePinnedNote(e),this.refreshAll()}),u.className="material-icons",u.innerText="delete",i.className="material-icons",i.innerText=`bookmark${a[e].pinned?"_remove":"_add"}`,o.append(c),d.append(m),r.append(u),p.append(i),n.className="note",n.append(o,d,r,p),t.append(n)}}const y=new $;class C{constructor(){I(this,"initDone",!1)}init(){var p;const e=document.createElement("div"),t=document.createElement("div"),a=document.createElement("h3"),n=document.createElement("p"),o=document.createElement("p"),c=document.createElement("input"),d=document.createElement("textarea"),m=document.createElement("span"),r=document.createElement("button"),u=document.createElement("button");e.id="create-note-dialog",e.className="hidden",t.id="create-note-dialog-shade",t.className="hidden",a.innerText="Create new {{type}}",n.className="nomargin",n.innerText="Title",o.className="nomargin",o.innerText="Content",c.className="fullwidth",d.className="fullwidth",m.className="bottomright",u.id="cancel-button",r.id="create-button",u.innerText="Cancel",r.innerText="Create {{type}}",u.addEventListener("click",this.hide),r.addEventListener("click",this.processNote),m.append(u,r),e.append(a,n,c,o,d,m),(p=document.querySelector("div.content"))==null||p.append(t,e),this.initDone=!0}show(e,t){if(this.initDone){const a=document.querySelector("div#create-note-dialog input"),n=document.querySelector("div#create-note-dialog textarea"),o=document.getElementById("create-note-dialog-shade"),c=document.getElementById("create-note-dialog"),d=document.querySelector("div#create-note-dialog h3"),m=document.querySelector("div#create-note-dialog button#create-button"),r=M.get(N[e]);t&&(a.value="",n.value=""),d.innerText=`Create New ${r}`,m.innerText=`Create ${r}`,o.classList.remove("hidden"),c.classList.remove("hidden")}}hide(){const e=document.getElementById("create-note-dialog-shade"),t=document.getElementById("create-note-dialog");e.classList.add("hidden"),t.classList.add("hidden")}processNote(){const e=document.querySelector("div#create-note-dialog input"),t=document.querySelector("div#create-note-dialog textarea");y.createNote(e.value,t.value),y.refreshAll(),E.hide()}}const M=new Map([["note","Note"],["todo","ToDo"]]);var N;(function(s){s[s.todo=0]="todo",s[s.note=1]="note"})(N||(N={}));const E=new C;class k{populateHomeButtons(){const e=document.querySelectorAll("#page-home>div.centered-absolute");for(const t of g)if(t[1].onSidebar&&!t[1].default){const a=document.createElement("button"),n=document.createElement("span"),o=document.createElement("p"),c=document.createTextNode(t[1].dispName);n.className="material-icons big",n.innerText=t[1].materialIcon,o.className="nomargin",o.append(c),a.append(n,o),a.addEventListener("click",()=>{f.switch(t[0],document.getElementById(`button-page-${t[0]}`))}),e[0].append(a)}}}const q=new k,D=new Map([["newnote",{dispName:"New Note",materialIcon:"add_circle",action:()=>{E.show(N.note,!0)},color:l.purple}],["newtodo",{dispName:"New Todo",materialIcon:"note_add",action:()=>{alert("Not implemented!")},color:l.orange}],["clearall",{dispName:"Clear All Notes",materialIcon:"delete",action:()=>{confirm(`Are you sure you want to clear all notes?

Doing this will clear all notes without return.`)&&localStorage.removeItem("notestore")},color:l.red}]]);class H{populatePages(){const e=document.querySelector("div.sidebar>span#pages");for(const t of g)if(t[1].onSidebar){const a=document.createElement("span"),n=document.createElement("button"),o=document.createElement("span");o.innerText=t[1].dispName,a.innerText=t[1].materialIcon,a.className="material-icons",n.className="page unselected option",n.id=`button-page-${t[0]}`,n.append(a),n.append(o),n.addEventListener("click",()=>f.switch(t[0],n)),n.addEventListener("mouseenter",()=>{a.style.color=`var(--${l[t[1].color]})`,o.style.color=`var(--${l[t[1].color]})`}),n.addEventListener("mouseleave",()=>{a.style.color="",o.style.color=""}),e==null||e.append(n)}}populateActions(){const e=document.querySelector("div.sidebar>span#actions");for(const t of D){const a=document.createElement("span"),n=document.createElement("button"),o=document.createElement("span"),c=`${Math.floor(Math.random()*32768)}`;o.innerText=t[1].dispName,a.innerText=t[1].materialIcon,a.className="material-icons",a.id=c,n.className="action option",n.append(a),n.append(o),n.addEventListener("click",t[1].action),n.addEventListener("mouseenter",()=>{a.style.color=`var(--${l[t[1].color]})`,o.style.color=`var(--${l[t[1].color]})`}),n.addEventListener("mouseleave",()=>{a.style.color="",o.style.color=""}),e==null||e.append(n)}}}const b=new H;const w="home";E.init();b.populateActions();b.populatePages();y.populateAllNotes();y.populatePinnedNotes(!0);f.switch(w,document.getElementById(`button-page-${w}`));q.populateHomeButtons();A.addColorClasses();
